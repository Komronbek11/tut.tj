<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Расписание - ДТТ</title>
  
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:opsz,wght@9..40,400;9..40,700&family=Inter:wght@300;400;500;600;700;800&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.13.10/dist/cdn.min.js" defer></script>
  <link rel="icon" type="png" href="raspisanie.png">
  
  <style>
    /* :root будет управляться через JS, оставляем пустым */
    :root {} 

    * {
      padding: 0;
      margin: 0;
      box-sizing: border-box;
      transition: all 0.2s ease;
    }

    body {
      font-family: 'Poppins', sans-serif;
      background-color: var(--bg);
      padding: 15px;
      color: var(--text);
      width: 100%;
      overflow-x: hidden;
      min-height: 100vh;
      background-image: var(--bg-image);
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
    }

    /* Стили шапки и меню из основного шаблона */
     .aurora-container { position: fixed; top: 0; left: 0; width: 100%; height: 100vh; overflow: hidden; z-index: -1; pointer-events: none; }
     @keyframes rotate { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
     .aurora-shape { position: absolute; border-radius: 50%; filter: blur(100px); opacity: 0.3; animation: rotate 40s infinite linear; }
     .aurora-1 { width: 500px; height: 500px; background: #3b82f6; top: -150px; left: -150px; }
     .aurora-2 { width: 400px; height: 400px; background: #8b5cf6; bottom: -100px; right: -100px; animation-duration: 50s; }
     .glass-card {
        background-color: var(--card-bg);
        backdrop-filter: var(--glass-blur);
        -webkit-backdrop-filter: var(--glass-blur);
        border: var(--glass-border, 1px solid transparent);
        transition: all 0.3s ease;
     }
     [x-cloak] { display: none !important; }

    /* Стили для страницы расписания */
    h1, h2, h3 {
      font-family: 'DM Sans', sans-serif;
      color: var(--heading);
    }

    h1 {
      text-align: center;
      margin-bottom: 20px;
      font-size: 2rem;
      background: linear-gradient(90deg, var(--primary), var(--accent));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    
    .controls {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      margin-bottom: 20px;
      gap: 15px;
    }

    .controls select {
      padding: 12px 20px;
      border-radius: 20px;
      border: 2px solid var(--primary);
      background-color: var(--card-bg);
      font-size: 16px;
      color: var(--text);
      font-weight: 500;
      box-shadow: 0 3px 6px rgba(0, 0, 0, 0.05);
      appearance: none;
      background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
      background-repeat: no-repeat;
      background-position: right 15px center;
      background-size: 15px;
      min-width: 250px;
      backdrop-filter: var(--glass-blur);
      -webkit-backdrop-filter: var(--glass-blur);
      border: var(--glass-border);
    }
    
    .buttons {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
      margin-bottom: 20px;
    }

    .buttons button {
      font-family: 'Poppins', sans-serif;
      padding: 12px 20px;
      background-color: var(--button-bg);
      color: var(--button-text);
      border: none;
      border-radius: 19px;
      font-weight: 600;
      font-size: 15px;
      cursor: pointer;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      flex-grow: 1;
      min-width: 90px;
      backdrop-filter: var(--glass-blur);
      -webkit-backdrop-filter: var(--glass-blur);
      border: var(--glass-border);
    }

    .buttons button:hover {
      background-color: var(--button-hover);
      transform: translateY(-2px);
      box-shadow: 0 6px 12px rgba(0,0,0,0.15);
    }
    
    .buttons button.active-day {
        background-color: var(--accent);
        color: white;
        transform: translateY(-2px);
        box-shadow: 0 6px 12px rgba(0,0,0,0.15);
    }
    
    .schedule-container {
      width: 100%;
      margin-top: 10px;
    }

    .schedule-day {
      width: 100%;
      display: none;
      background-color: var(--card-bg);
      color: var(--text);
      border-radius: 20px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.08);
      animation: fadeIn 0.5s ease-in-out;
      overflow: hidden;
      backdrop-filter: var(--glass-blur);
      -webkit-backdrop-filter: var(--glass-blur);
      border: var(--glass-border);
    }

    .schedule-day.active { display: block; }
    
    table {
      width: 100%;
      border-collapse: collapse;
    }

    th, td {
      padding: 12px 16px;
      text-align: left;
      border-bottom: 1px solid var(--border);
    }

    th {
      background-color: var(--primary);
      color: white;
      font-weight: 600;
      position: sticky;
      top: 0;
    }

    tr:hover { background-color: var(--row-hover); }

    /* Theme Palette */
    .theme-card {
      background-color: var(--card-bg);
      padding: 15px;
      margin: 20px 0;
      border-radius: 20px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.08);
      backdrop-filter: var(--glass-blur);
      -webkit-backdrop-filter: var(--glass-blur);
      border: var(--glass-border);
    }
    .color-palette {
      display: flex;
      overflow-x: auto;
      gap: 10px;
      padding: 10px 5px;
      scrollbar-width: thin;
    }
    .color-option {
      flex: 0 0 60px;
      height: 60px;
      border-radius: 50%;
      cursor: pointer;
      position: relative;
      box-shadow: 0 3px 6px rgba(0,0,0,0.1);
    }
    .color-option::after {
      content: '✔'; font-size: 24px; color: white;
      text-shadow: 0 1px 2px rgba(0,0,0,0.5);
      position: absolute; top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      opacity: 0;
    }
    .color-option.selected::after { opacity: 1; }
    .color-option:hover { transform: translateY(-5px); }
    .color-name {
      position: absolute; bottom: 5px; left: 0; right: 0;
      text-align: center; font-size: 10px; font-weight: 500;
      color: white; text-shadow: 0 1px 2px rgba(0,0,0,0.5);
    }

    /* Voice Assistant */
    .voice-assistant { position: fixed; bottom: 20px; right: 20px; z-index: 1000; }
    .voice-btn {
      width: 60px; height: 60px; border-radius: 50%;
      background-color: var(--primary); color: white;
      display: flex; align-items: center; justify-content: center;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      cursor: pointer; border: none;
    }
    .voice-btn:hover { transform: scale(1.1); }
    .voice-btn.listening { animation: pulse 1.5s infinite; background-color: var(--accent); }
    @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } }
    .voice-status {
      position: absolute; bottom: 70px; right: 0;
      background-color: var(--card-bg); padding: 15px; border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1); width: 280px;
      display: none; font-size: 14px; color: var(--text);
      backdrop-filter: var(--glass-blur); border: var(--glass-border);
    }
    .voice-status .user-command { font-weight: bold; margin-bottom: 8px; }
    .voice-status.listening { display: block; }
    .voice-status .assistant-response { margin-top: 10px; padding-top: 10px; border-top: 1px solid var(--border); font-style: italic; color: var(--primary); }

    /* Skeleton Loader */
    .skeleton-loader { width: 100%; margin-top: 20px; animation: fadeIn 0.5s ease; }
    .skeleton-header, .skeleton-row { height: 60px; background-color: var(--skeleton-bg); margin-bottom: 1px; animation: shimmer 1.5s infinite linear; }
    .skeleton-header { border-radius: 16px 16px 0 0; }
    @keyframes shimmer { 0% { opacity: 0.5; } 50% { opacity: 0.8; } 100% { opacity: 0.5; } }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

    /* Footer */
    footer { text-align: center; margin-top: 40px; padding: 20px; color: var(--text-light); font-size: 14px; border-radius: 20px; background-color: var(--card-bg); border: var(--glass-border); backdrop-filter: var(--glass-blur); }

    /* Color classes */
    .samsung-red { background: linear-gradient(150deg, #ffd9d9, #ff0000); }
    .samsung-orange { background: linear-gradient(150deg, #f5d295, #e69109); }
    .samsung-yellow { background: linear-gradient(150deg, #f2e6ce, #d9ce02); }
    .samsung-green { background: linear-gradient(150deg, #def0d8, #02d902); }
    .samsung-mint { background: linear-gradient(150deg, #797d80, #000); }
    .samsung-teal { background-color: #30B0C7; }
    .samsung-cyan { background-color: #32ADE6; }
    .samsung-blue { background-color: #007AFF; }
    .samsung-indigo { background-color: #5856D6; }
    .samsung-purple { background-color: #AF52DE; }
    .samsung-pink { background-color: #FF2D55; }
    .samsung-brown { background-color: #A2845E; }
    .samsung-gray { background-color: #8E8E93; }
    .glass-theme { background: linear-gradient(135deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05)); border: 1px solid rgba(255,255,255,0.2); }
    
    @media (max-width: 480px) {
      table { display: block; overflow-x: auto; }
    }
  #logo{
            width: 50px;
            height: 50px;
            border-radius: 50%;
        }
  </style>
</head>
<body x-data="pageManager()" x-init="initApp()" :class="{ 'dark': isDark }" x-cloak>
    
  <div class="aurora-container">
      <div class="aurora-shape aurora-1"></div>
      <div class="aurora-shape aurora-2"></div>
  </div>

  <div :class="{ 'filter blur-sm': mobileMenuOpen }" class="transition-filter duration-300">
      <header class="sticky top-0 z-30">
          <nav class="container mx-auto px-4 py-3 mt-4 glass-card rounded-2xl">
              <div class="flex justify-between items-center">
                  <a href="index.html" class="flex items-center space-x-3">
                      <img src="logo.png" alt="Logo" class="w-10 h-10" id="logo">
                      <span class="text-lg font-bold  sm:inline">ФТИ ва ИС</span>
                  </a>
                  <div class="flex items-center space-x-2">
                      <button @click="toggleMenu()" class="md:hidden p-2 rounded-full transition-colors hover:bg-black/10 dark:hover:bg-white/10" aria-label="Open menu">
                          <svg class="w-6 h-6" fill="none" :stroke="isDark ? 'white' : 'black'" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                      </button>
                  </div>
              </div>
          </nav>
      </header>

      <main class="container mx-auto px-4 md:px-0">
        <h1>Ҷадвали дарсҳо</h1>

        <div class="theme-card">
          <h3>Палитра цветов Расписание UI</h3>
          <div class="color-palette">
              <div class="color-option glass-theme" data-theme="glass" onclick="applySamsungTheme('glass')"><span class="color-name">Glass</span></div>
              <div class="color-option samsung-red" data-theme="red" onclick="applySamsungTheme('red')"><span class="color-name">Red</span></div>
              <div class="color-option samsung-orange" data-theme="orange" onclick="applySamsungTheme('orange')"><span class="color-name">Orange</span></div>
              <div class="color-option samsung-yellow" data-theme="yellow" onclick="applySamsungTheme('yellow')"><span class="color-name">Yellow</span></div>
              <div class="color-option samsung-green" data-theme="green" onclick="applySamsungTheme('green')"><span class="color-name">Green</span></div>
              <div class="color-option samsung-mint" data-theme="mint" onclick="applySamsungTheme('mint')"><span class="color-name">Тёмная</span></div>
              <div class="color-option samsung-teal" data-theme="teal" onclick="applySamsungTheme('teal')"><span class="color-name">Teal</span></div>
              <div class="color-option samsung-cyan" data-theme="cyan" onclick="applySamsungTheme('cyan')"><span class="color-name">Cyan</span></div>
              <div class="color-option samsung-blue" data-theme="blue" onclick="applySamsungTheme('blue')"><span class="color-name">Blue</span></div>
              <div class="color-option samsung-indigo" data-theme="indigo" onclick="applySamsungTheme('indigo')"><span class="color-name">Indigo</span></div>
              <div class="color-option samsung-purple" data-theme="purple" onclick="applySamsungTheme('purple')"><span class="color-name">Purple</span></div>
              <div class="color-option samsung-pink" data-theme="pink" onclick="applySamsungTheme('pink')"><span class="color-name">Pink</span></div>
              <div class="color-option samsung-brown" data-theme="brown" onclick="applySamsungTheme('brown')"><span class="color-name">Brown</span></div>
              <div class="color-option samsung-gray" data-theme="gray" onclick="applySamsungTheme('gray')"><span class="color-name">Gray</span></div>
          </div>
        </div>

        <div class="controls">
          <select id="groupSelect" onchange="updateSchedule()">
            <option value="guruh1">1-40010101B</option>
            <option value="guruh2">1-40010102B</option>
            <option value="guruh3">1-40010103B</option>
            <option value="guruh4">1-40010104B</option>
            <option value="guruh5">1-40010108B</option>
            <option value="guruh6">1-40010108</option>
          </select>
        </div>

        <div class="buttons">
          <button data-day="Душанбе" onclick="showDay('Душанбе')">Душанбе</button>
          <button data-day="Сешанбе" onclick="showDay('Сешанбе')">Сешанбе</button>
          <button data-day="Чоршанбе" onclick="showDay('Чоршанбе')">Чоршанбе</button>
          <button data-day="Панҷшанбе" onclick="showDay('Панҷшанбе')">Панҷшанбе</button>
          <button data-day="Ҷумъа" onclick="showDay('Ҷумъа')">Ҷумъа</button>
          <button data-day="Шанбе" onclick="showDay('Шанбе')">Шанбе</button>
        </div>

        <div id="scheduleContainer" class="schedule-container">
          </div>

        <footer>
          <p>© 2025.ДТТ. Душанбе.<br>Факултети Технологияҳои иттилоотӣ ва интеллекти сунъӣ</p>
          <p>Разработчик: Komron Sharipov™</p>
        </footer>
      </main>
  </div>
  
  <nav class="md:hidden glass-card fixed bottom-4 left-4 right-4 z-40 rounded-2xl h-16">
      <div class="flex justify-around items-center h-full">
          <a href="home.html" class="flex flex-col items-center justify-center opacity-70 hover:opacity-100 transition-opacity">
              <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20"><path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"></path></svg>
              <span class="text-xs font-medium">Асосӣ</span>
          </a>
             <a href="#" class="flex flex-col items-center justify-center text-indigo-500">
              <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
              <span class="text-xs font-medium">Ҷадвал</span>
          </a>
            <a href="fakultet.html" class="flex flex-col items-center justify-center opacity-70 hover:opacity-100 transition-opacity">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m-1 4h1m5-4h1m-1 4h1m-1-4h1m-1-4h1"></path></svg>
                <span class="text-xs font-medium" data-translate="nav_faculties">Факултетҳо</span>
            </a>
          <a href="teachers_tut.html" class="flex flex-col items-center justify-center opacity-70 hover:opacity-100 transition-opacity">
              <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21a6 6 0 00-9-5.197M15 11a3 3 0 11-6 0 3 3 0 016 0z" /></svg>
              <span class="text-xs font-medium">Омӯзгорон</span>
          </a>
         <a href="profile.html" class="flex flex-col items-center justify-center opacity-70 hover:opacity-100">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>
                <span class="text-xs font-medium">Профил</span>
            </a>
      </div>
  </nav>
<div x-show="mobileMenuOpen" @click.away="mobileMenuOpen = false" class="fixed inset-0 z-50 flex justify-end" style="display: none;">
        <div x-show="mobileMenuOpen" x-transition:enter="transition-opacity ease-in-out duration-300" x-transition:leave="transition-opacity ease-in-out duration-300" class="absolute inset-0 bg-black/30"></div>
        <div x-show="mobileMenuOpen" @click.stop x-transition:enter="transition ease-in-out duration-300 transform" x-transition:enter-start="translate-x-full" x-transition:enter-end="translate-x-0" x-transition:leave="transition ease-in-out duration-300 transform" x-transition:leave-start="translate-x-0" x-transition:leave-end="translate-x-full" class="relative w-4/5 max-w-sm h-full glass-card flex flex-col p-6">
            <div class="flex justify-between items-center mb-10">
                <span class="text-lg font-bold" data-translate="menu_title">Меню</span>
                <button @click="toggleMenu()" class="p-2 -mr-2" aria-label="Close menu"><svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button>
            </div>
            <nav class="flex flex-col space-y-6">
                <a href="home.html" @click="toggleMenu()" class="text-xl font-medium opacity-80 hover:opacity-100 flex items-center space-x-3">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path></svg>
                    <span data-translate="nav_home">Асосӣ</span>
                </a>
                <a href="jadvalidarsi.html" @click="toggleMenu()" class="text-xl font-medium opacity-80 hover:opacity-100 flex items-center space-x-3">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
                    <span data-translate="schedule">Ҷадвали дарсӣ</span>
                </a>
                
              <div x-data="{ open: false }" class="space-y-2">
                    <button @click="open = !open" class="text-xl font-medium opacity-80 hover:opacity-100 flex items-center space-x-3 w-full">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m-1 4h1m5-4h1m-1 4h1m-1-4h1m-1-4h1"></path></svg>
                        <span data-translate="fakultet">Факултетҳо</span>
                        <svg class="w-4 h-4 transition-transform duration-300" :class="{ 'transform rotate-180': open }" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </button>
                    
                    <div x-show="open" x-collapse class="pl-8 space-y-3">
                        <a href="#" @click="toggleMenu()" class="block opacity-80 hover:opacity-100">Факултети информатика</a>
                        <a href="#" @click="toggleMenu()" class="block opacity-80 hover:opacity-100">Факултети энергетика</a>
                        <a href="#" @click="toggleMenu()" class="block opacity-80 hover:opacity-100">Факултети механика</a>
                        <a href="#" @click="toggleMenu()" class="block opacity-80 hover:opacity-100">Факултети иқтисод</a>
                        <a href="#" @click="toggleMenu()" class="block opacity-80 hover:opacity-100">Факултети кишоварзӣ</a>
                    </div>
                </div>
                
                <a href="#" @click="toggleMenu()" class="text-xl font-medium opacity-80 hover:opacity-100 flex items-center space-x-3">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path></svg>
                    <span data-translate="nav_contact">Тамос</span>
                </a>
                <a href="index.html" @click="toggleMenu()" class="text-xl font-medium opacity-80 hover:opacity-100 flex items-center space-x-3">
<svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" className="size-6">
  <path strokeLinecap="round" strokeLinejoin="round" d="M8.25 9V5.25A2.25 2.25 0 0 1 10.5 3h6a2.25 2.25 0 0 1 2.25 2.25v13.5A2.25 2.25 0 0 1 16.5 21h-6a2.25 2.25 0 0 1-2.25-2.25V15m-3 0-3-3m0 0 3-3m-3 3H15" />
</svg>
                    <span data-translate="logout">Выйти</span>
                </a>
            </nav>
        </div>
    </div>
    

  <div class="voice-assistant">
    <div class="voice-status" id="voiceStatus"></div>
    <button class="voice-btn" id="voiceBtn" title="Голосовой помощник">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path>
        <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
        <line x1="12" y1="19" x2="12" y2="23"></line>
        <line x1="8" y1="23" x2="16" y2="23"></line>
      </svg>
    </button>
  </div>

  <script>
    // --- AlpineJS Logic For Menus ---
    function pageManager() {
      return {
        mobileMenuOpen: false,
        isDark: false, // This variable is needed for Alpine bindings but theming is handled by samsungThemes
        toggleMenu() {
          this.mobileMenuOpen = !this.mobileMenuOpen;
        },
        // initApp is called from the body tag's x-init
      };
    }

    // --- Schedule, Theme, and Voice Logic ---
    let currentDay = '';
    let currentGroup = 'guruh1';
    let recognition;
    let speechSynthesis = window.speechSynthesis;
    let isListening = false;
    
    const dayMapping = {
      'понедельник': 'Душанбе', 'вторник': 'Сешанбе', 'среду': 'Чоршанбе', 'четверг': 'Панҷшанбе', 'пятницу': 'Ҷумъа', 'субботу': 'Шанбе',
      'сешанбе': 'Сешанбе', 'чоршанбе': 'Чоршанбе', 'панҷшанбе': 'Панҷшанбе', 'ҷумъа': 'Ҷумъа', 'шанбе': 'Шанбе'
    };
    const themeMapping = {
      'красную': 'red', 'оранжевую': 'orange', 'желтую': 'yellow', 'зеленую': 'green', 'темную': 'mint', 'бирюзовую': 'teal',
      'голубую': 'cyan', 'синюю': 'blue', 'фиолетовую': 'indigo', 'пурпурную': 'purple', 'розовую': 'pink', 'коричневую': 'brown',
      'серую': 'gray', 'стеклянную': 'glass', 'тёмную': 'mint'
    };
    const classNumberMapping = { 'первая': 1, 'вторая': 2, 'третья': 3, 'четвертая': 4, 'пятая': 5, 'шестая': 6 };
    
    const samsungThemes = {
      red: {"--bg": "#ffe0e0", "--text": "black", "--heading": "#1F040A", "--primary": "#FF3B30", "--accent": "#E0352B", "--button-bg": "#FF3B30", "--button-text": "black", "--button-hover": "#E0352B", "--card-bg": "#dbb4b4", "--border": "#FFD6D4", "--row-hover": "#FFEAE9", "--text-light": "black", "--skeleton-bg": "rgba(255, 214, 212, 0.5)", "--glass-blur": "none", "--glass-border": "none", "--bg-image": "none"},
      orange: {"--bg": "#FFF5ED", "--text": "black", "--heading": "black", "--primary": "#FF9500", "--accent": "#E08500", "--button-bg": "#FF9500", "--button-text": "black", "--button-hover": "#E08500", "--card-bg": "#e8d399", "--border": "#FFD9A6", "--row-hover": "#FFEDD3", "--text-light": "#8A5D3D", "--skeleton-bg": "rgba(255, 217, 166, 0.5)", "--glass-blur": "none", "--glass-border": "none", "--bg-image": "none"},
      yellow: {"--bg": "#d6c79f", "--text": "#3A3007", "--heading": "#1F1904", "--primary": "#FFCC00", "--accent": "#E0B800", "--button-bg": "#FFCC00", "--button-text": "#3A3007", "--button-hover": "#E0B800", "--card-bg": "#ffeebf", "--border": "#FFE680", "--row-hover": "#FFF2BF", "--text-light": "black", "--skeleton-bg": "rgba(255, 230, 128, 0.5)", "--glass-blur": "none", "--glass-border": "none", "--bg-image": "none"},
      green: {"--bg": "#DEF2BF", "--text": "#0A3A1D", "--heading": "#051F10", "--primary": "#34C759", "--accent": "#2DB350", "--button-bg": "#34C759", "--button-text": "#FFFFFF", "--button-hover": "#2DB350", "--card-bg": "#E7F0D8", "--border": "#B8EBC5", "--row-hover": "#DBF5E2", "--text-light": "#4D8A62", "--skeleton-bg": "rgba(184, 235, 197, 0.5)", "--glass-blur": "none", "--glass-border": "none", "--bg-image": "none"},
      mint: {"--bg": "black", "--text": "white", "--heading": "white", "--primary": "#2b2b2b", "--accent": "#1768ff", "--button-bg": "#1768ff", "--button-text": "white", "--button-hover": "green", "--card-bg": "#2b2b2b", "--border": "#2b2b2b", "--row-hover": "#2b2b2b", "--text-light": "", "--skeleton-bg": "rgba(153, 232, 228, 0.5)", "--glass-blur": "none", "--glass-border": "none", "--bg-image": "url('sky.jpg')"},
      teal: {"--bg": "#EFF9FB", "--text": "#072E3A", "--heading": "#04191F", "--primary": "#30B0C7", "--accent": "#2A9EB3", "--button-bg": "#30B0C7", "--button-text": "#FFFFFF", "--button-hover": "#2A9EB3", "--card-bg": "#FFFFFF", "--border": "#A5DCE6", "--row-hover": "#D2EDF3", "--text-light": "#4D7C8A", "--skeleton-bg": "rgba(165, 220, 230, 0.5)", "--glass-blur": "none", "--glass-border": "none", "--bg-image": "none"},
      cyan: {"--bg": "#EFF9FE", "--text": "#072A3A", "--heading": "#04171F", "--primary": "#32ADE6", "--accent": "#2D9CD0", "--button-bg": "#32ADE6", "--button-text": "#FFFFFF", "--button-hover": "#2D9CD0", "--card-bg": "#FFFFFF", "--border": "#A7D7F3", "--row-hover": "#D3EBF9", "--text-light": "#4D7C8A", "--skeleton-bg": "rgba(167, 215, 243, 0.5)", "--glass-blur": "none", "--glass-border": "none", "--bg-image": "none"},
      blue: {"--bg": "#F5F9FF", "--text": "#071D3A", "--heading": "#04101F", "--primary": "#007AFF", "--accent": "#006CE0", "--button-bg": "#007AFF", "--button-text": "#FFFFFF", "--button-hover": "#006CE0", "--card-bg": "#FFFFFF", "--border": "#99C7FF", "--row-hover": "#CCE3FF", "--text-light": "#4D6B8A", "--skeleton-bg": "rgba(153, 199, 255, 0.5)", "--glass-blur": "none", "--glass-border": "none", "--bg-image": "none"},
      indigo: {"--bg": "#F5F5FF", "--text": "#12073A", "--heading": "#0A041F", "--primary": "#5856D6", "--accent": "#4F4DC2", "--button-bg": "#5856D6", "--button-text": "#FFFFFF", "--button-hover": "#4F4DC2", "--card-bg": "#FFFFFF", "--border": "#BAB9EB", "--row-hover": "#DCDCF5", "--text-light": "#5A588A", "--skeleton-bg": "rgba(186, 185, 235, 0.5)", "--glass-blur": "none", "--glass-border": "none", "--bg-image": "none"},
      purple: {"--bg": "#FAF5FF", "--text": "#1F073A", "--heading": "#11041F", "--primary": "#AF52DE", "--accent": "#9E4AC9", "--button-bg": "#AF52DE", "--button-text": "#FFFFFF", "--button-hover": "#9E4AC9", "--card-bg": "#FFFFFF", "--border": "#D7A8ED", "--row-hover": "#EBD4F6", "--text-light": "#6D4D8A", "--skeleton-bg": "rgba(215, 168, 237, 0.5)", "--glass-blur": "none", "--glass-border": "none", "--bg-image": "none"},
      pink: {"--bg": "#FFF5F8", "--text": "#3A071D", "--heading": "#1F0410", "--primary": "#FF2D55", "--accent": "#E0284D", "--button-bg": "#FF2D55", "--button-text": "#FFFFFF", "--button-hover": "#E0284D", "--card-bg": "#FFFFFF", "--border": "#FFA6B9", "--row-hover": "#FFD3DC", "--text-light": "#8A4D66", "--skeleton-bg": "rgba(255, 166, 185, 0.5)", "--glass-blur": "none", "--glass-border": "none", "--bg-image": "none"},
      brown: {"--bg": "#F9F6F2", "--text": "#3A2610", "--heading": "#1F1408", "--primary": "#A2845E", "--accent": "#927755", "--button-bg": "#A2845E", "--button-text": "#FFFFFF", "--button-hover": "#927755", "--card-bg": "#FFFFFF", "--border": "#D1C2AC", "--row-hover": "#E8E1D6", "--text-light": "#8A7A60", "--skeleton-bg": "rgba(209, 194, 172, 0.5)", "--glass-blur": "none", "--glass-border": "none", "--bg-image": "none"},
      gray: {"--bg": "#F2F2F7", "--text": "#1C1C1E", "--heading": "#0A0A0A", "--primary": "#8E8E93", "--accent": "#808085", "--button-bg": "#8E8E93", "--button-text": "#FFFFFF", "--button-hover": "#808085", "--card-bg": "#FFFFFF", "--border": "#C7C7CC", "--row-hover": "#E5E5EA", "--text-light": "#6C6C70", "--skeleton-bg": "rgba(199, 199, 204, 0.5)", "--glass-blur": "none", "--glass-border": "none", "--bg-image": "url('neon1.jpg')"},
      glass: {"--bg": "rgba(255,255,255,0.1)", "--text": "#ffffff", "--heading": "#ffffff", "--primary": "rgba(255,255,255,0.01)", "--accent": "rgba(255,255,255,0.9)", "--button-bg": "rgba(255,255,255,0.1)", "--button-text": "#ffffff", "--button-hover": "rgba(255,255,255,0.1)", "--card-bg": "rgba(255,255,255,0.1)", "--border": "rgba(255,255,255,0.1)", "--row-hover": "rgba(255,255,255,0.1)", "--text-light": "rgba(255,255,255,0.1)", "--skeleton-bg": "rgba(255,255,255,0.2)", "--glass-blur": "blur(19px)", "--glass-border": "1px solid rgba(255,255,255,0.2)", "--bg-image": "linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('neon2.jpg')"}
    };

    function initApp() {
      const savedTheme = localStorage.getItem("selectedTheme") || 'blue';
      applySamsungTheme(savedTheme);
      initVoiceRecognition();
      
      showSkeletonLoader();
      setTimeout(() => {
        let today = getToday();
        currentDay = (today === 'yakshanbe') ? 'Душанбе' : today;
        updateSchedule();
        
        // Initial greeting
        setTimeout(() => {
          speak(`Здравствуйте! Я ваш голосовой помощник. Скажите "помощь", чтобы узнать, что я умею.`);
        }, 1000);
      }, 400);
    }
    
    function applySamsungTheme(themeName) {
      if (!samsungThemes[themeName]) return;
      const theme = samsungThemes[themeName];
      Object.entries(theme).forEach(([key, value]) => {
        document.documentElement.style.setProperty(key, value);
      });
      localStorage.setItem("selectedTheme", themeName);
      
      document.querySelectorAll('.color-option').forEach(option => option.classList.remove('selected'));
      const newSelected = document.querySelector(`.color-option[data-theme="${themeName}"]`);
      if(newSelected) newSelected.classList.add('selected');

      // Update isDark for Alpine to correctly style stroke colors on icons, etc.
      const alpineInstance = document.querySelector('[x-data]').__x;
      if (alpineInstance) {
          alpineInstance.isDark = themeName === 'mint' || themeName === 'glass';
      }
    }

    function initVoiceRecognition() {
      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
      if (!SpeechRecognition) {
        document.getElementById('voiceBtn').style.display = 'none';
        return;
      }
      recognition = new SpeechRecognition();
      recognition.lang = 'ru-RU';
      recognition.interimResults = false;
      
      document.getElementById('voiceBtn').addEventListener('click', toggleVoiceRecognition);
      
      recognition.onstart = () => {
        isListening = true;
        document.getElementById('voiceBtn').classList.add('listening');
        updateVoiceStatus('Слушаю...', '');
      };
      
      recognition.onresult = (event) => {
        const command = event.results[event.results.length - 1][0].transcript.toLowerCase().trim();
        updateVoiceStatus(`<div class="user-command">Вы сказали: "${command}"</div>`, '');
        processVoiceCommand(command);
      };
      
      recognition.onerror = (event) => {
        let errorMessage = 'Ошибка распознавания.';
        if (event.error === 'no-speech') errorMessage = 'Речь не распознана.';
        else if (event.error === 'not-allowed') errorMessage = 'Доступ к микрофону запрещен.';
        speak(errorMessage);
        stopVoiceRecognition();
      };
      
      recognition.onend = stopVoiceRecognition;
    }

    function toggleVoiceRecognition() {
        isListening ? stopVoiceRecognition() : startVoiceRecognition();
    }
    
    function startVoiceRecognition() {
      try {
        recognition.start();
      } catch (e) {
        speak('Не удалось запустить распознавание голоса.');
      }
    }
    
    function stopVoiceRecognition() {
      isListening = false;
      if (recognition) recognition.stop();
      document.getElementById('voiceBtn').classList.remove('listening');
      setTimeout(() => {
        if(!isListening) document.getElementById('voiceStatus').style.display = 'none';
      }, 5000);
    }
    
    function updateVoiceStatus(status, response) {
      const voiceStatus = document.getElementById('voiceStatus');
      voiceStatus.innerHTML = status;
      if (response) {
        voiceStatus.innerHTML += `<div class="assistant-response">${response}</div>`;
      }
      voiceStatus.style.display = 'block';
    }
    
    function speak(text) {
      if (speechSynthesis.speaking) speechSynthesis.cancel();
      const utterance = new SpeechSynthesisUtterance(text);
      utterance.lang = 'ru-RU';
      const russianVoice = speechSynthesis.getVoices().find(voice => voice.lang === 'ru-RU');
      if (russianVoice) utterance.voice = russianVoice;
      speechSynthesis.speak(utterance);
    }
    
    function processVoiceCommand(command) {
        let response = '';
        let commandProcessed = false;

        const commands = {
            help: {
                regex: /^(помощь|справка|что ты умеешь)/,
                handler: () => {
                    response = `Я могу: показать расписание на любой день, например: "покажи среду". Переключить группу: "покажи группу 2". Сменить тему: "смени тему на синюю". Или задать вопрос: "какая первая пара в понедельник?".`;
                }
            },
            changeTheme: {
                regex: /(смени|поставь|включи)\s+(тему|цвет)\s*(на)?\s*(.+)/,
                handler: (match) => {
                    const requestedTheme = match[4].trim();
                    const themeName = themeMapping[requestedTheme];
                    if (themeName) {
                        applySamsungTheme(themeName);
                        response = `Тема изменена на ${requestedTheme}.`;
                    } else {
                        response = `Извините, я не нашла тему "${requestedTheme}".`;
                    }
                }
            },
            changeGroup: {
                regex: /(покажи|переключи|открой)\s+группу\s(.+)/,
                handler: (match) => {
                    const requestedGroup = match[2].trim();
                    const groupSelect = document.getElementById('groupSelect');
                    const foundOption = Array.from(groupSelect.options).find(opt => opt.text.toLowerCase().includes(requestedGroup));
                    if (foundOption) {
                        groupSelect.value = foundOption.value;
                        updateSchedule();
                        response = `Показываю расписание для группы ${foundOption.text}.`;
                    } else {
                        response = `Не удалось найти группу "${requestedGroup}".`;
                    }
                }
            },
            querySpecificClass: {
                regex: /(какая|какая у нас)\s+(первая|вторая|третья|четвертая|пятая|шестая)\s+пара\s+(в|на)\s+(понедельник|вторник|среду|четверг|пятницу|субботу)/,
                handler: (match) => {
                    const classNum = classNumberMapping[match[2]];
                    const dayId = dayMapping[match[5]];
                    if (classNum && dayId) {
                        const schedule = getScheduleForGroupAndDay(currentGroup, dayId);
                        const nonEmptyClasses = schedule.filter(s => s[2] && s[2].trim());
                        if (nonEmptyClasses.length > 0 && classNum <= nonEmptyClasses.length) {
                            const lesson = nonEmptyClasses[classNum - 1];
                            const subject = lesson[2].replace(/<br>/g, ', ');
                            response = `${match[2]} пара в ${match[5]} - это ${subject} в аудитории ${lesson[1] || 'не указана'}.`;
                        } else {
                            response = `В ${match[5]} нет ${match[2]} пары.`;
                        }
                    }
                }
            },
            showDay: {
                regex: /.*/, // Fallback command
                handler: () => {
                    let dayToShow = '';
                    if (command.includes('сегодня')) {
                        dayToShow = getToday();
                        response = dayToShow === 'yakshanbe' ? "Сегодня воскресенье, выходной!" : `Показываю расписание на сегодня.`;
                    } else if (command.includes('завтра')) {
                        const days = ['yakshanbe', 'Душанбе', 'Сешанбе', 'Чоршанбе', 'Панҷшанбе', 'Ҷумъа', 'Шанбе'];
                        dayToShow = days[(new Date().getDay() + 1) % 7];
                        response = `Показываю расписание на завтра.`;
                    } else {
                        for (const [key, value] of Object.entries(dayMapping)) {
                            if (command.includes(key)) {
                                dayToShow = value;
                                response = `Показываю расписание на ${key}.`;
                                break;
                            }
                        }
                    }
                    if (dayToShow && dayToShow !== 'yakshanbe') showDay(dayToShow);
                }
            }
        };

        for (const cmd of Object.values(commands)) {
            const match = command.match(cmd.regex);
            if (match) {
                cmd.handler(match);
                commandProcessed = true;
                break;
            }
        }

        if (!response) response = 'Не поняла команду. Попробуйте сказать "помощь".';
        speak(response);
        updateVoiceStatus(`Команда обработана`, response);
    }

    function showSkeletonLoader() {
      document.getElementById('scheduleContainer').innerHTML = `
        <div class="skeleton-loader"><div class="skeleton-header"></div><div class="skeleton-row"></div><div class="skeleton-row"></div><div class="skeleton-row"></div><div class="skeleton-row"></div></div>`;
    }
    
    function getToday() {
      const days = ['yakshanbe', 'Душанбе', 'Сешанбе', 'Чоршанбе', 'Панҷшанбе', 'Ҷумъа', 'Шанбе'];
      // For testing: return 'Душанбе';
      return days[new Date().getDay()];
    }
    
    function showDay(dayId) {
      if(dayId === 'yakshanbe') return;
      currentDay = dayId;
      updateSchedule();
    }
    
    function updateSchedule() {
      const group = document.getElementById('groupSelect').value;
      currentGroup = group;
      showSkeletonLoader();
      
      setTimeout(() => {
        const schedule = getScheduleForGroupAndDay(group, currentDay);
        if (!schedule || schedule.every(item => !item[2] || item[2].trim() === '')) {
          renderNoClasses();
        } else {
          renderSchedule(schedule);
        }
        document.querySelectorAll('.buttons button').forEach(btn => {
          btn.classList.toggle('active-day', btn.dataset.day === currentDay);
        });
      }, 300); 
    }
    
    function getScheduleForGroupAndDay(group, day) {
      const schedules = {
        guruh1: {
         Душанбе: [['08:00<br>08:50', '8/---', 'Соати кураторӣ <br> Шарипова Л'], ['09:00<br>09:50', '8/208', 'Программирование в Java(лек)<br> Турсунов Р'], ['10:00<br>10:50', '8/208', 'Программирование в Java(лек) <br> Турсунов Р'], ['11:00<br>11:50', '8/208', 'Статистика ва КОД (срсп)<br>Ғуломсафдаров А.'], ['12:00<br>12:50', '8/208', 'Статистика ва КОД (срсп)<br>Ғуломсафдаров А.'], ['13:00<br>13:50', '8/406', 'Статистика ва КОД (срсп)<br>Ғуломсафдаров А.']],
         Сешанбе: [['08:00<br>08:50', '', ''], ['09:00<br>09:50', '', ''], ['10:00<br>10:50', '', ''], ['11:00<br>11:50', '', ''], ['12:00<br>12:50', '8/206', 'Статистика ва КОД(лек) Ғуломсафдаров А.'], ['13:00<br>13:50', '8/206', 'Статистика ва КОД(лек) <br>Ғуломсафдаров А.']],
         Чоршанбе: [['08:00<br>08:50', '8/304', 'Программирование в Java (срсп)<br> доц. Турсунов Р'], ['09:00<br>09:50', '8/304', 'Программирование в Java (срсп)<br> доц. Турсунов Р'], ['10:00<br>10:50', '8/304', 'Программирование в Java (срсп)<br> доц. Турсунов Р'], ['11:00<br>11:50', '8/301', 'Усул ва ВХИ (лек)<br>доц. Насруллоева Д.'], ['12:00<br>12:50', '8/301', 'Усул ва ВХИ (лек)<br>доц. Насруллоева Д.'], ['13:00<br>13:50', '8/301', 'Усул ва ВХИ (лек)<br>доц. Насруллоева Д.']],
         Панҷшанбе: [['08:00<br>08:50', '', ''], ['09:00<br>09:50', '', ''], ['10:00<br>10:50', '8/206', 'База данных (лекция)..............<br>доц. Аликулов А'], ['11:00<br>11:50', '8/206', 'База данных (лекция)<br>доц. Аликулов А'], ['12:00<br>12:50', '8/301', 'База данных (срсп)<br>с.п.Парвонаева Х.'], ['13:00<br>13:50', '8/301', 'База данных (срсп)<br>с.п.Парвонаева Х.']],
         'Ҷумъа': [['08:00<br>08:50', '', ''], ['09:00<br>09:50', '', ''], ['10:00<br>10:50', '8/406', 'Статистика и КОД (срсп)<br> доц. Ғуломсафдаров А.'], ['11:00<br>11:50', '8/301', 'База данных (срсп)<br>с.п. Парвонаева Х.'], ['12:00<br>12:50', '8/301', 'База данных (срсп)<br>с.п. Парвонаева Х.'], ['13:00<br>13:50', '8/304', 'Программирование в Java (лек)<br> доц. Турсунов Р.']],
         Шанбе: [['08:00<br>08:50', '8/103', 'Этика и этетика (лек),доц. Орифчонова Н.'], ['09:00<br>09:50', '8/103', 'Этика и этетика (лек)<br> доц. Орифчонова Н.<br>(хафтаи тоқ)<br>Политология (лек)<br>н.и.с., Мирзоён Р.Х.<br>(хафтаи ҷуфт)'], ['10:00<br>10:50', '8/103', 'Политология (лек)<br>н.и.с., Мирзоён Р.Х.'], ['11:00<br>11:50', '8/101', 'Политология (лек)<br>н.и.с., Мирзоён Р.Х.'], ['12:00<br>12:50', '8/101', 'Политология (лек)<br>н.и.с., Мирзоён Р.Х.'], ['13:00<br>13:50', '8/205', 'Этика и этетика (срсп)<br>доц. Джураев Р.'], ['14:00<br>14:50', '8/205', 'Этика и этетика (срсп)<br>доц. Джураев Р.']]
        },
        guruh2: {
         Душанбе: [['08:00<br>08:50', '', ''], ['09:00<br>09:50', '8/208', 'Программирование в Java(лек) <br> Турсунов Р'], ['10:00<br>10:50', '8/208', 'Программирование в Java(лек) <br> Турсунов Р'], ['11:00<br>11:50', '8/304', 'Программирование в Java(лек) <br> Турсунов Р'], ['12:00<br>12:50', '', ''], ['13:00<br>13:50', '', '']],
         Сешанбе: [['08:00<br>08:50', '', ''], ['09:00<br>09:50', '', ''], ['10:00<br>10:50', '8/303', 'База данных(срсп)<br>доц.Насруллоева Д.'], ['11:00<br>11:50', '8/303', 'База данных(срсп)<br>доц.Насруллоева Д.'], ['12:00<br>12:50', '8/206', 'Статистика ва КОД <br>Ғуломсафдаров А.'], ['13:00<br>13:50', '8/206', 'Статистика ва КОД <br>Ғуломсафдаров А.']],
         Чоршанбе: [['08:00<br>08:50', '', ''], ['09:00<br>09:50', '8/301', 'Усул ва ВХИ (срсп)<br>доц. Насруллоева Д.'], ['10:00<br>10:50', '8/301', 'Усул ва ВХИ (срсп)<br>доц. Насруллоева Д.'], ['11:00<br>11:50', '8/301', 'Усул ва ВХИ (лек)<br>доц. Насруллоева Д.'], ['12:00<br>12:50', '8/304', 'Программирование в Java (срсп)<br> доц. Турсунов Р'], ['13:00<br>13:50', '8/304', 'Программирование в Java (срсп)<br> доц. Турсунов Р']],
         Панҷшанбе: [['08:00<br>08:50', '', ''], ['09:00<br>09:50', '', ''], ['10:00<br>10:50', '8/206', 'База данных (лек)<br>доц. Аликулов А'], ['11:00<br>11:50', '8/206', 'База данных (лек)<br>доц. Аликулов А'], ['12:00<br>12:50', '8/302', 'Статистика ва КОД(лек) <br>Халимов И.'], ['13:00<br>13:50', '8/302', 'Статистика ва КОД(лек) <br>Халимов И.']],
         'Ҷумъа': [['08:00<br>08:50', '8/302', 'База данных (срсп) <br> Насруллоева Д.'], ['09:00<br>09:50', '8/302', 'База данных (срсп) <br> Насруллоева Д.'], ['10:00<br>10:50', '8/302', 'Статистика ва КОД(лек) <br>Халимов И.'], ['11:00<br>11:50', '8/302', 'Статистика ва КОД(лек) <br>Халимов И.'], ['12:00<br>12:50', '', ''], ['13:00<br>13:50', '', '']],
         Шанбе: [['08:00<br>08:50', '', ''], ['09:00<br>09:50', '', ''], ['10:00<br>10:50', '', ''], ['11:00<br>11:50', '', ''], ['12:00<br>12:50', '', ''], ['13:00<br>13:50', '', '']]
        },
        guruh3: {}, guruh4: {}, guruh5: {}, guruh6: {}
      };
      
      const emptySchedule = [['','',''],['','',''],['','',''],['','',''],['','',''],['','','']];
      return schedules[group]?.[day] || emptySchedule;
    }
    
    function renderNoClasses() {
      document.getElementById('scheduleContainer').innerHTML = `
        <div class="schedule-day active">
          <h2>${currentDay.charAt(0).toUpperCase() + currentDay.slice(1)}</h2>
          <p style="padding: 20px; text-align: center;">Дарсҳо нестанд</p>
        </div>`;
    }
    
    function renderSchedule(schedule) {
      const container = document.getElementById('scheduleContainer');
      let html = `<div class="schedule-day active"><h2>${currentDay.charAt(0).toUpperCase() + currentDay.slice(1)}</h2><table><thead><tr><th>Вақт</th><th>АУД</th><th>Фан</th></tr></thead><tbody>`;
      
      schedule.forEach(([time, aud, subject]) => {
        if (subject && subject.trim()) {
          html += `<tr><td>${time || '---'}</td><td>${aud || '---'}</td><td>${subject}</td></tr>`;
        }
      });
      
      html += `</tbody></table></div>`;
      container.innerHTML = html;
    }

    // Ensure voices are loaded for speech synthesis
    speechSynthesis.onvoiceschanged = () => {};
  </script>
</body>
</html>
